"use strict";(self.webpackChunkatx_floods=self.webpackChunkatx_floods||[]).push([[866],{4866:function(e,t,n){n.r(t);var r=n(4165),o=n(5861),s=n(885),a=n(8559),c=n(6986),i=n(2791),u=n(3442),l=n(7589),d=n(4717),f=n(66),v=n(5703),m=n(184);t.default=function(){var e=i.useState([]),t=(0,s.Z)(e,2),n=t[0],p=t[1],Z=i.useState(null),x=(0,s.Z)(Z,2),h=x[0],g=x[1],S=(0,d.lZ)(),k=(0,s.Z)(S,2),j=k[0],C=k[1],w=(0,d.Qh)(),b=(0,s.Z)(w,2),y=b[0],z=b[1],E=i.useState(!0),R=(0,s.Z)(E,2),_=R[0],A=R[1],F=(0,i.useRef)();i.useEffect((function(){var e=u.Z.crossings,t=y?Object.values(y.position):[30.266666,-97.73333],n=y?y.zoom:10,s=a.map("map").setView(t,n,{maxZoom:18});return(0,o.Z)((0,r.Z)().mark((function t(){var n,o,i,u;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return o=t.sent,t.next=5,o.json();case 5:i=t.sent,A(!1),u=new c.MarkerClusterGroup({maxClusterRadius:10}),i.attributes.forEach((function(e,t){var n,r=a.marker([e.lat,e.lon],{icon:(n=e.status,a.icon({iconUrl:"/static/svg/".concat(n,".png"),iconSize:[20,20],iconAnchor:[0,0]}))}).on("click",(function(){return g(t)}));u.addLayer(r)})),null===a||void 0===a||null===(n=a.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",{}))||void 0===n||n.addTo(s),s.addLayer(u),s.on("mousemove",(function(){var e=s.getZoom(),t=s.getCenter();F.current={zoom:e,position:t}})),p(i);case 13:case"end":return t.stop()}}),t)})))(),function(){s.remove()}}),[y]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{id:"map",children:[(0,m.jsx)(f.Z,{onClick:function(e){z(F.current)}}),_?(0,m.jsx)(v.Z,{}):(0,m.jsx)(m.Fragment,{})]}),(0,m.jsx)(l.Z,{data:n,id:h,setId:g,header:!0,toggleFav:C,favs:j,content:"CROSSINGS ARE OPEN"})]})}}}]);
//# sourceMappingURL=866.690ce68e.chunk.js.map