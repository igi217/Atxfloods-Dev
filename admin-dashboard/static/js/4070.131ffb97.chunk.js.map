{"version":3,"file":"static/js/4070.131ffb97.chunk.js","mappings":"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","sources":["components/RolesEdit.js"],"sourcesContent":["import React from 'react';\r\nimport { CCard, CCardBody, CForm, CFormInput, CFormLabel, CRow, CCol, CButton, CFormCheck } from \"@coreui/react\";\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport Constants, { setSessionMessage, userToken } from 'src/Constants';\r\nimport { ToastContainer } from 'react-toastify';\r\nconst RolesEdit = () => {\r\n\r\n    const [permissions, setPermissions] = React.useState({});\r\n    const location = useLocation();\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const parseFormtoJson = (form) => {\r\n        let output = {};\r\n        new FormData(form).forEach(\r\n            (value, key) => {\r\n                // Check if property already exist\r\n                if (Object.prototype.hasOwnProperty.call(output, key)) {\r\n                    let current = output[key];\r\n                    if (!Array.isArray(current)) {\r\n                        // If it's not an array, convert it to an array.\r\n                        current = output[key] = [current];\r\n                    }\r\n                    current.push(value); // Add the new value to the array.\r\n                } else {\r\n                    output[key] = value;\r\n                }\r\n            }\r\n        );\r\n        return output;\r\n    }\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        let data = parseFormtoJson(e.target);\r\n        let url = Constants.privilegeEdit + location.state.id;\r\n        let response = await fetch(url, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Authorization': userToken(),\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n        let json = await response.json();\r\n        console.log(json);\r\n\r\n        if (json.status === 200) {\r\n            navigate('/privileges/list');\r\n            setSessionMessage('success', 'Record Created Successfully')\r\n        }\r\n\r\n    }\r\n\r\n\r\n    React.useEffect(() => {\r\n        (async () => {\r\n            let url = Constants.userPermissions;\r\n            let response = await fetch(url, {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Authorization': userToken(),\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            })\r\n            let json = await response.json();\r\n            console.log(json.data);\r\n            setPermissions(json.data);\r\n        })()\r\n    }, [])\r\n    return (\r\n\r\n        <>\r\n\r\n            <ToastContainer\r\n                position=\"top-right\"\r\n                theme=\"colored\"\r\n                autoClose={5000}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover />\r\n            {/* <CCard className=\"my-2\">\r\n                <CCardBody>\r\n                    <h5 className=\"d-inline text-uppercase\">Sub-Admin Add</h5>\r\n                    <Link to=\"/crossings\" className=\"btn text-uppercase btn-sm px-4  btn-primary float-right\">Back</Link>\r\n                </CCardBody>\r\n            </CCard> */}\r\n\r\n            <CCard>\r\n                <CCardBody>\r\n                    <CForm onSubmit={handleSubmit}>\r\n                        <CRow>\r\n                            <CCol md={12}>\r\n                                <div className=\"mb-3\">\r\n                                    <CFormLabel htmlFor=\"name\">Privilege<span className=\"text-danger\">*</span></CFormLabel>\r\n                                    <CFormInput type=\"text\" placeholder=\"Privilege\" defaultValue={location.state.name} name=\"name\" required />\r\n                                </div>\r\n                            </CCol>\r\n\r\n                        </CRow>\r\n\r\n                        <div className=\"mb-3\">\r\n                            <CRow>\r\n                                {\r\n                                    Object.keys(permissions).map((key, index) => {\r\n                                        return (\r\n                                            <CCol md={12} key={index} className=\"my-1 perm-box-main\" style={{ textTransform: 'capitalize' }}>\r\n                                                <h6 className='my-2'>{key}</h6>\r\n                                                <CRow>\r\n                                                    {\r\n                                                        Object.keys(permissions[key]).map((perm, i) => {\r\n                                                            return (\r\n                                                                <CCol md={3} key={i} className='permission-box'>\r\n                                                                    <CFormCheck type=\"checkbox\"  value={perm} label={permissions[key][perm]} name=\"permissions\" defaultChecked={location.state.permissions.includes(perm)}/>\r\n                                                                </CCol>\r\n                                                            )\r\n                                                        })\r\n                                                    }\r\n                                                </CRow>\r\n                                                <span className='error_text'>\r\n                                                    <i className='fa-solid fa-exclamation-circle me-2'></i>\r\n                                                    You must check first permission to make other permissions work properly\r\n                                                </span>\r\n                                            </CCol>\r\n                                        )\r\n                                    })\r\n                                }\r\n\r\n                                {/* {\r\n                                    UserPermissions.map((usp, index) => {\r\n                                        return (\r\n\r\n                                            <CCol md={6} key={index} className=\"my-1\" style={{ textTransform: 'capitalize' }}>\r\n                                                <CFormCheck type=\"checkbox\" value={usp} label={usp.replace('_', ' ')} name=\"user_permissions\" />\r\n                                            </CCol>\r\n\r\n                                        )\r\n                                    })\r\n                                } */}\r\n                            </CRow>\r\n                        </div>\r\n\r\n                        <div className=\"mb-3\">\r\n                            <CButton type='submit' color=\"primary\" className=\"px-4\">\r\n                                Update\r\n                            </CButton>\r\n                        </div>\r\n                    </CForm>\r\n                </CCardBody>\r\n            </CCard>\r\n\r\n\r\n\r\n        </>\r\n    );\r\n}\r\nexport default RolesEdit;"],"names":["React","permissions","setPermissions","location","useLocation","navigate","useNavigate","parseFormtoJson","form","output","FormData","forEach","value","key","Object","prototype","hasOwnProperty","call","current","Array","isArray","push","handleSubmit","e","preventDefault","data","target","url","Constants","state","id","fetch","method","headers","userToken","body","JSON","stringify","response","json","console","log","status","setSessionMessage","position","theme","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","onSubmit","md","className","htmlFor","type","placeholder","defaultValue","name","required","keys","map","index","style","textTransform","perm","i","label","defaultChecked","includes","color"],"sourceRoot":""}