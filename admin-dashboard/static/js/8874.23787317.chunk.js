"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[8874],{43518:function(e,t,n){var a=n(72791),r=(n(78983),n(10491)),s=n(80184);t.Z=function(e){var t=(0,r.L)((function(e){return e.hasPerm})),n=a.useMemo((function(){return e.prefix}),[e.prefix]);return(0,s.jsxs)(s.Fragment,{children:[e.onChangeStatus?(0,s.jsx)("span",{"data-title":"Change Status",className:"".concat(t("status_".concat(n))?"":"disabled"),children:(0,s.jsx)("i",{className:"me-2 fa-solid fa-check-circle text-primary pointer",onClick:e.onChangeStatus})}):"",e.onView?(0,s.jsx)("span",{"data-title":"View Data",className:"".concat(t("view_".concat(n))?"":"disabled"),children:(0,s.jsx)("i",{className:"fa-solid fa-eye pointer me-2 text-info",onClick:e.onView})}):"",e.onEdit?(0,s.jsx)("span",{"data-title":"Edit Data",className:"".concat(t("change_".concat(n))?"":"disabled"),children:(0,s.jsx)("i",{className:"fa-solid fa-pen-to-square pointer me-2 text-warning",onClick:e.onEdit})}):"",(0,s.jsx)("span",{"data-title":"Delete Data",className:"mx-3 ".concat(t("delete_".concat(n))?"":"disabled"),children:(0,s.jsx)("i",{className:" fa-solid fa-trash pointer text-danger",onClick:e.onDelete})})]})}},88874:function(e,t,n){n.r(t);var a=n(1413),r=n(74165),s=n(15861),o=n(70885),c=n(72791),i=n(43513),u=n(83442),l=n(43518),d=n(78983),f=n(9085),m=n(16871),p=n(43504),h=n(80184);t.default=function(){var e=(0,m.s0)(),t=c.useState([]),n=(0,o.Z)(t,2),x=n[0],g=n[1],w=c.useState({per_page:100,page_number:1}),v=(0,o.Z)(w,2),Z=v[0],j=v[1],k=c.useState(!0),_=(0,o.Z)(k,2),N=_[0],b=_[1],C=c.useState(0),A=(0,o.Z)(C,2),P=A[0],S=A[1],E=[{name:"Camera Display Name",selector:function(e){return(0,h.jsxs)(h.Fragment,{children:[e.caution?(0,h.jsx)("i",{className:"fa-solid fa-exclamation-triangle text-warning"}):""," ",e.camera_name]})}},{name:"Camera Address",selector:function(e){return e.camera_address},sortable:!0},{name:"No. of Expected Images",selector:function(e){return e.expected_image},sortable:!0},{name:"No. of Received Images",selector:function(e){return e.get_image},sortable:!0},{name:"No. of Hours",selector:function(e){return e.hours},sortable:!0},{name:"Time Range",selector:function(e){return new Date(e.from).toLocaleString()+" to "+new Date(e.to).toLocaleString()},sortable:!0},{name:"Status",selector:function(e){return(0,h.jsx)(d.kV,{size:"xl",onChange:function(){return y(e.id)},checked:e.status})},sortable:!0},{name:"Action",selector:function(e){return(0,h.jsx)(l.Z,{prefix:"notification",onEdit:function(){return D(e)},onDelete:function(){return R(e.id)},onToggleStatus:function(){return y(e.id)}})},sortable:!0}],y=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.ZP.notificationStatus+t,e.next=3,fetch(n,{headers:{Authorization:(0,u.kE)()}});case 3:e.sent.ok&&b((function(e){return!e}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(t){e("/camera/notifications/edit",{state:t})},R=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Do you really want to delete this record?")){e.next=3;break}return e.abrupt("return");case 3:return n=u.ZP.cameraNotificationDelete+t,e.next=6,fetch(n,{method:"GET",headers:{Authorization:(0,u.kE)()}});case 6:return a=e.sent,e.next=9,a.json();case 9:200===e.sent.status&&(b(!N),f.Am.success("Record deleted successfully!"));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.useEffect((function(){var e=window.sessionStorage;e.type&&e.message&&(f.Am[e.type](e.message),e.clear())}),[]),c.useEffect((function(){var e=u.ZP.cameraNotifications;(0,s.Z)((0,r.Z)().mark((function t(){var n,a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e+"?per_page=".concat(Z.per_page,"&page_number=").concat(Z.page_number),{method:"GET",headers:{Authorization:(0,u.kE)()}});case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,console.log(a),g(a.data),S(a.totalResult);case 9:case"end":return t.stop()}}),t)})))()}),[Z,N]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(f.Ix,{position:"top-right",theme:"colored",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,h.jsx)(d.xH,{className:"my-2",children:(0,h.jsx)(d.sl,{children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-md-6",children:(0,h.jsx)("h5",{className:"text-uppercase",children:"Camera Notifications"})}),(0,h.jsx)("div",{className:"col-md-6",children:(0,h.jsx)(p.rU,{to:"/camera/notifications/add",className:"btn text-uppercase btn-primary m-2 float-end",children:"Add"})})]})})}),(0,h.jsx)("div",{className:"row",children:(0,h.jsxs)("div",{className:"col-md-6 float-end mb-3",children:[(0,h.jsx)(d.u5,{className:"mx-2",color:"success",onClick:function(){var e=u.ZP.notificationActiveAll;(0,s.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e,{headers:{Authorization:(0,u.kE)()}});case 2:t.sent.ok&&b((function(e){return!e}));case 4:case"end":return t.stop()}}),t)})))()},children:"Activate All"}),(0,h.jsx)(d.u5,{color:"danger",onClick:function(){var e=u.ZP.notificationInactiveAll;(0,s.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e,{headers:{Authorization:(0,u.kE)()}});case 2:t.sent.ok&&b((function(e){return!e}));case 4:case"end":return t.stop()}}),t)})))()},children:"Deactivate All"})]})}),(0,h.jsx)(i.ZP,{columns:E,data:x,pagination:!0,onSelectedRowsChange:function(){},paginationServer:!0,paginationPerPage:100,paginationRowsPerPageOptions:[100,50,30],paginationTotalRows:P,className:"camera-table",onChangeRowsPerPage:function(e){return j((0,a.Z)((0,a.Z)({},Z),{},{per_page:e}))},onChangePage:function(e,t){return j((0,a.Z)((0,a.Z)({},Z),{},{page_number:e}))}})]})}}}]);
//# sourceMappingURL=8874.23787317.chunk.js.map