"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[9883],{99883:function(e,a,n){n.r(a);var r=n(74165),t=n(15861),s=n(70885),c=n(72791),i=n(78983),l=n(43504),o=n(83442),d=n(80184);a.default=function(){var e=c.useState([]),a=(0,s.Z)(e,2),n=a[0],u=a[1],m=c.useState({}),h=(0,s.Z)(m,2),x=h[0],f=h[1];return c.useEffect((function(){var e=o.ZP.cameras+"?total_images=32";(0,t.Z)((0,r.Z)().mark((function a(){var n,t;return(0,r.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(e,{method:"GET",headers:{Authorization:(0,o.kE)()}});case 2:return n=a.sent,a.next=5,n.json();case 5:t=a.sent,u(t.attributes);case 7:case"end":return a.stop()}}),a)})))()}),[x]),c.useEffect((function(){var e=window.setInterval((function(){f({})}),2e4);return function(){window.clearInterval(e)}}),[]),n.length?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.xH,{className:"my-2",children:(0,d.jsx)(i.sl,{children:(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-md-6",children:(0,d.jsx)("h5",{className:"text-uppercase",children:"Camera Feed"})})})})}),(0,d.jsx)(i.rb,{children:n.map((function(e){var a,n,r;return(0,d.jsx)(i.b7,{xs:6,children:(0,d.jsx)(i.xH,{className:"my-2",children:(0,d.jsxs)(i.sl,{className:"camera-feed",children:[(0,d.jsxs)("h5",{children:["Display Name: ",e.name]}),(null===e||void 0===e||null===(a=e.images)||void 0===a?void 0:a.length)>0?(0,d.jsx)(i.Ub,{controls:!0,indicators:!0,children:e.images.map((function(a,n){return(0,d.jsx)(i.io,{children:(0,d.jsx)(l.rU,{to:"/camera-details/".concat(e.id),style:{textDecoration:"none",color:"black"},children:(0,d.jsx)("img",{className:"img-fluid d-block",loading:"lazy",src:o.ZP.base+"uploads/"+a.image_name,alt:a.image_name})})},n)}))}):(0,d.jsx)("p",{children:"No Image Available"}),(0,d.jsxs)(l.rU,{to:"/camera-details/".concat(e.id),style:{textDecoration:"none",color:"black"},children:[(0,d.jsxs)("h5",{children:["Latest Image Captured: ",null!==(n=e.images[0])&&void 0!==n&&n.created_at?new Date(null===(r=e.images[0])||void 0===r?void 0:r.created_at).toLocaleString():"No Image Available"]}),(0,d.jsxs)("h5",{children:["Camera Id: ",e.unique_id]})]})]})})},e.id)}))})]}):(0,d.jsx)(i.LQ,{color:"primary"})}}}]);
//# sourceMappingURL=9883.ea5ee005.chunk.js.map