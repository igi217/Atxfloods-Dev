"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[8177],{43518:function(e,t,n){var a=n(72791),r=n(10491),s=n(80184);t.Z=function(e){var t=(0,r.L)((function(e){return e.hasPerm})),n=a.useMemo((function(){return e.prefix}),[e.prefix]);return(0,s.jsxs)(s.Fragment,{children:[e.onChangeStatus?(0,s.jsx)("span",{"data-title":"Change Status",className:"".concat(t("status_".concat(n))?"":"disabled"),children:(0,s.jsx)("i",{className:"me-2 fa-solid fa-check-circle text-primary pointer",onClick:e.onChangeStatus})}):"",e.onView?(0,s.jsx)("span",{"data-title":"View Data",className:"".concat(t("view_".concat(n))?"":"disabled"),children:(0,s.jsx)("i",{className:"fa-solid fa-eye pointer me-2 text-info",onClick:e.onView})}):"",e.onEdit?(0,s.jsx)("span",{"data-title":"Edit Data",className:"".concat(t("change_".concat(n))?"":"disabled"),children:(0,s.jsx)("i",{className:"fa-solid fa-pen-to-square pointer me-2 text-warning",onClick:e.onEdit})}):"",e.onDelete?(0,s.jsx)("span",{"data-title":"Delete Data",className:"mx-3 ".concat(t("delete_".concat(n))?"":"disabled"),children:(0,s.jsx)("i",{className:" fa-solid fa-trash pointer text-danger",onClick:e.onDelete})}):(0,s.jsx)(s.Fragment,{})]})}},68177:function(e,t,n){n.r(t);var a=n(1413),r=n(74165),s=n(15861),i=n(70885),o=n(72791),c=n(43513),u=n(83442),l=n(43518),d=n(9085),m=n(78983),p=n(16871),f=n(43504),x=n(80184);t.default=function(e){var t=(0,p.s0)(),n=o.useState([]),h=(0,i.Z)(n,2),g=h[0],_=h[1],j=o.useState({per_page:100,page_number:1}),b=(0,i.Z)(j,2),w=b[0],Z=b[1],v=o.useState(!0),k=(0,i.Z)(v,2),C=k[0],N=k[1],P=o.useState(0),y=(0,i.Z)(P,2),D=y[0],E=y[1],L=[{name:"Id",selector:function(e){return e.id},sortable:!0},{name:"Name",selector:function(e){return e.name},sortable:!0},{name:"Abbreviation",selector:function(e){return(0,x.jsx)("span",{className:"text-uppercase",children:e.short_name})},sortable:!0},{name:"Minimum Latitude",selector:function(e){return e.min_lat},sortable:!0},{name:"Maximum Latitude",selector:function(e){return e.max_lat},sortable:!0},{name:"Minimum Longitude",selector:function(e){return e.min_lon},sortable:!0},{name:"Maximum Longitude",selector:function(e){return e.max_lon},sortable:!0},{name:"Last Modified",selector:function(e){return new Date(e.updated_at).toLocaleString()},sortable:!0},{name:"Action",selector:function(e){return(0,x.jsx)(l.Z,{prefix:"all"===e.short_name?"disable":"jurisdiction",onEdit:function(){return S(e)},onDelete:function(){return A(e.id)}})},sortable:!0}],S=function(e){t("/jurisdictions/update",{state:e})},A=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Do you really want to delete this record?")){e.next=3;break}return e.abrupt("return");case 3:return n=u.ZP.jurisdictionDelete+t,e.next=6,fetch(n,{method:"GET",headers:{Authorization:(0,u.kE)()}});case 6:return a=e.sent,e.next=9,a.json();case 9:200===e.sent.status&&(N(!C),d.Am.success("Record deleted successfully!"));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function M(){return(M=(0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.EZ)(u.ZP.jurisdictionList+"?per_page=10000&page_number=1","jurisdictions.csv","data");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.useEffect((function(){var e=window.sessionStorage;e.type&&e.message&&(d.Am[e.type](e.message),e.clear())}),[]),o.useEffect((function(){var e=u.ZP.jurisdictionList;(0,s.Z)((0,r.Z)().mark((function t(){var n,a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e+"?per_page=".concat(w.per_page,"&page_number=").concat(w.page_number),{method:"GET",headers:{Authorization:(0,u.kE)()}});case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,_(a.data),E(a.total);case 8:case"end":return t.stop()}}),t)})))()}),[w,C]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d.Ix,{position:"top-right",theme:"colored",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,x.jsx)(m.xH,{className:"my-2",children:(0,x.jsx)(m.sl,{children:(0,x.jsxs)("div",{className:"d-flex flex-row",children:[(0,x.jsx)("h5",{children:"Jurisdictions List"}),(0,x.jsx)(f.rU,{className:"btn btn-primary ms-auto",to:"/jurisdictions/create",children:"Create Jurisdiction"}),(0,x.jsx)(m.u5,{className:"ms-2",color:"success",onClick:function(){return M.apply(this,arguments)},children:"Download CSV"})]})})}),(0,x.jsx)(c.ZP,{columns:L,data:g,pagination:!0,paginationServer:!0,paginationPerPage:100,paginationRowsPerPageOptions:[100,50,30],paginationTotalRows:D,onChangeRowsPerPage:function(e){return Z((0,a.Z)((0,a.Z)({},w),{},{per_page:e}))},onChangePage:function(e,t){return Z((0,a.Z)((0,a.Z)({},w),{},{page_number:e}))}})]})}}}]);
//# sourceMappingURL=8177.02914cfa.chunk.js.map